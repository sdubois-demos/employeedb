#
# JDBC properties
#
spring.datasource.url=jdbc:mysql://localhost:3306/employee_directory
spring.datasource.username=root
spring.datasource.password=00penwin

# Hibernate ddl auto (create, create-drop, validate, update)
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto = create-drop

# --- Enable Actuators ---
management.endpoints.web.exposure.include=*
spring.data.rest.base-path=/api

# Always show health details
management.endpoint.health.show-details=always

# Expose health endpoint and any others you want
management.endpoints.web.exposure.include=health,info

springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs

springdoc.info.title=Employee API
springdoc.info.description=API for managing employees
springdoc.info.version=1.0.0

# Global switch (env-first). Default = none
edb.authentication=${EDB_AUTHENTICATION:none}

# ---------- LDAP (FortiAuthenticator) ----------
# Example values â€” adjust to your FA directories
edb.ldap.url=${EDB_LDAP_URL:ldap://fortiauth.fortidemo.ch:389}
edb.ldap.base=${EDB_LDAP_BASE:dc=fortidemo,dc=ch}
edb.ldap.managerDn=${EDB_LDAP_MANAGER_DN:cn=ldap-reader,ou=svc,dc=fortidemo,dc=ch}
edb.ldap.managerPassword=${EDB_LDAP_MANAGER_PWD:changeMe}
# Choose either userDn pattern OR user search:
edb.ldap.user-dn-pattern=${EDB_LDAP_USER_DN_PATTERN:uid={0},ou=people}
# or:
# edb.ldap.userSearchBase=${EDB_LDAP_USER_SEARCH_BASE:ou=people}
# edb.ldap.userSearchFilter=${EDB_LDAP_USER_SEARCH_FILTER:(uid={0})}

# ---------- SAML (FortiAuthenticator as IdP) ----------
# Registration id "fortiauth"

spring.security.saml2.relyingparty.registration.fortiauth.entity-id=${EDB_SAML_ENTITY_ID:urn:employeedb}
spring.security.saml2.relyingparty.registration.fortiauth.acs-location=${EDB_SAML_ACS:${SERVER_BASE_URL:http://localhost:8080}/login/saml2/sso/fortiauth}
spring.security.saml2.relyingparty.registration.fortiauth.assertingparty.metadata-uri=${EDB_SAML_IDP_METADATA_URI:https://fortiauth.fortidemo.ch/saml-idp/metadata}
# Optional: if FA requires specific bindings or verification settings, add here later.
